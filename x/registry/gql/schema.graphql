#
#  Copyright 2019 Wireline, Inc.
#

type Resource {
  id: String!
  type: String!
  owner: Owner!
  systemAttributes: String
  attributes: String
  links: [Link!]
}

type Owner {
  id: String
  address: String
}

type Link {
  id: String!
  attributes: String
}

type Coin {
  denom: String!
  amount: Int!
}

type Account {
  address: String!
  pubKey: String
  num: Int!
  seq: Int!
  coins: [Coin!]
}

type Pseudonym {
  resource: Resource
  name: String!
  pubKey: String
}

type Bot {
  resource: Resource
  name: String!
  pubKey: String
  version: String,
  kind: String,
  description: String,
  labels: [String!]
}

type Query {

  #
  # Wallet API.
  #

  getAccounts(
    addresses: [String!]
  ): [Account]

  #
  # Low layer API, works with bare resources.
  #

  getResources(
    ids: [String!]
  ): [Resource]

  listResources(
    namespace: String
  ): [Resource]


  #
  # High layer API, works with types.
  #

  getBots(
    namespace: String
    name: [String!]
  ): [Bot]

  getPseudonyms(
    namespace: String
    name: [String!]
  ): [Pseudonym]

}

type Mutation {

  # Tx methods roughly correspond to those in https://github.com/tendermint/tendermint/blob/master/rpc/core/mempool.go
  broadcastTxCommit(tx: String!): String
}
